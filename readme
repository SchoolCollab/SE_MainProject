

Kiáº¿n trÃºc MVVM Clean Architecture lÃ  má»™t máº«u thiáº¿t káº¿ pháº§n má»m káº¿t há»£p giá»¯a máº«u Model-View-ViewModel (MVVM) vÃ  cÃ¡c nguyÃªn táº¯c cá»§a Clean Architecture. Má»¥c tiÃªu chÃ­nh cá»§a nÃ³ lÃ  táº¡o ra sá»± **tÃ¡ch biá»‡t rÃµ rÃ ng vá» cÃ¡c má»‘i quan tÃ¢m** (separation of concerns), giÃºp á»©ng dá»¥ng dá»… má»Ÿ rá»™ng, dá»… kiá»ƒm thá»­ vÃ  dá»… báº£o trÃ¬.

Kiáº¿n trÃºc nÃ y tá»• chá»©c dá»± Ã¡n thÃ nh ba táº§ng chÃ­nh giao tiáº¿p vá»›i nhau theo má»™t luá»“ng phá»¥ thuá»™c má»™t chiá»u nghiÃªm ngáº·t: **UI â†’ Domain â†’ Data**.

***

### ## Giáº£i thÃ­ch cÃ¡c thÃ nh pháº§n chÃ­nh

DÆ°á»›i Ä‘Ã¢y lÃ  Ã½ nghÄ©a cá»§a tá»«ng thuáº­t ngá»¯ trong kiáº¿n trÃºc nÃ y:

* **UI (User Interface - Giao diá»‡n ngÆ°á»i dÃ¹ng)** ğŸ“±
    LÃ  pháº§n giao diá»‡n cá»§a á»©ng dá»¥ng mÃ  ngÆ°á»i dÃ¹ng tÆ°Æ¡ng tÃ¡c. Trong phÃ¡t triá»ƒn Android hiá»‡n Ä‘áº¡i, pháº§n nÃ y thÆ°á»ng Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng **Jetpack Compose**. Nhiá»‡m vá»¥ cá»§a nÃ³ lÃ  hiá»ƒn thá»‹ dá»¯ liá»‡u do ViewModel cung cáº¥p vÃ  ghi nháº­n cÃ¡c thao tÃ¡c cá»§a ngÆ°á»i dÃ¹ng (nhÆ° nháº¥n nÃºt, nháº­p vÄƒn báº£n), sau Ä‘Ã³ chuyá»ƒn cho ViewModel.

* **ViewModel**
    Má»™t thÃ nh pháº§n cá»‘t lÃµi cá»§a máº«u MVVM. NÃ³ hoáº¡t Ä‘á»™ng nhÆ° má»™t **cáº§u ná»‘i** giá»¯a táº§ng UI vÃ  táº§ng Domain. NÃ³ chá»©a **tráº¡ng thÃ¡i cá»§a UI** (dá»¯ liá»‡u cáº§n hiá»ƒn thá»‹) vÃ  cung cáº¥p dá»¯ liá»‡u Ä‘Ã³ Ä‘á»ƒ UI theo dÃµi. ViewModel gá»i cÃ¡c **Use Case** Ä‘á»ƒ thá»±c thi logic nghiá»‡p vá»¥ vÃ  cáº­p nháº­t tráº¡ng thÃ¡i UI vá»›i káº¿t quáº£ nháº­n Ä‘Æ°á»£c. NÃ³ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tá»“n táº¡i qua cÃ¡c thay Ä‘á»•i vá» cáº¥u hÃ¬nh, cháº³ng háº¡n nhÆ° xoay mÃ n hÃ¬nh.

* **DI (Dependency Injection - TiÃªm phá»¥ thuá»™c)** ğŸ’‰
    LÃ  má»™t máº«u thiáº¿t káº¿ trong Ä‘Ã³ cÃ¡c phá»¥ thuá»™c cá»§a má»™t Ä‘á»‘i tÆ°á»£ng (cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c mÃ  nÃ³ cáº§n Ä‘á»ƒ hoáº¡t Ä‘á»™ng) Ä‘Æ°á»£c "tiÃªm" vÃ o tá»« má»™t nguá»“n bÃªn ngoÃ i, thay vÃ¬ Ä‘á»‘i tÆ°á»£ng tá»± táº¡o ra chÃºng. Äiá»u nÃ y giÃºp code trá»Ÿ nÃªn module hÃ³a hÆ¡n vÃ  dá»… kiá»ƒm thá»­ hÆ¡n. **Hilt** lÃ  thÆ° viá»‡n Ä‘Æ°á»£c Google Ä‘á» xuáº¥t cho DI trong Android.

* **Domain (Miá»n nghiá»‡p vá»¥)** ğŸ§ 
    LÃ  **lÃµi cá»§a á»©ng dá»¥ng** cá»§a báº¡n. Táº§ng nÃ y chá»©a cÃ¡c logic vÃ  quy táº¯c nghiá»‡p vá»¥ thiáº¿t yáº¿u. Quan trá»ng nháº¥t, táº§ng Domain lÃ  má»™t module Kotlin/Java thuáº§n tÃºy vÃ  **khÃ´ng phá»¥ thuá»™c** vÃ o framework Android. Äiá»u nÃ y lÃ m cho nÃ³ cÃ³ kháº£ nÄƒng tÃ¡i sá»­ dá»¥ng vÃ  kiá»ƒm thá»­ cao.
    * **Use Case (hay Interactor):** Má»™t lá»›p trong táº§ng Domain Ä‘áº¡i diá»‡n cho má»™t tÃ¡c vá»¥ hoáº·c hÃ nh Ä‘á»™ng cá»¥ thá»ƒ cá»§a ngÆ°á»i dÃ¹ng, vÃ­ dá»¥ nhÆ° `RegisterUserUseCase` (Use Case Ä‘Äƒng kÃ½ ngÆ°á»i dÃ¹ng) hoáº·c `GetBookingsUseCase` (Use Case láº¥y danh sÃ¡ch Ä‘áº·t chá»—). NÃ³ Ä‘iá»u phá»‘i luá»“ng dá»¯ liá»‡u báº±ng cÃ¡ch gá»i má»™t hoáº·c nhiá»u Repository interface.
    * **Model:** Má»™t data class Ä‘Æ¡n giáº£n trong táº§ng Domain Ä‘áº¡i diá»‡n cho má»™t Ä‘á»‘i tÆ°á»£ng nghiá»‡p vá»¥ cá»‘t lÃµi (vÃ­ dá»¥: `User`, `Product`, hoáº·c `Booking`).

* **Data (Dá»¯ liá»‡u)** ğŸ’¾
    Táº§ng nÃ y chá»‹u trÃ¡ch nhiá»‡m **cung cáº¥p dá»¯ liá»‡u** mÃ  táº§ng Domain yÃªu cáº§u. NÃ³ chá»©a cÃ¡c chi tiáº¿t triá»ƒn khai vá» cÃ¡ch dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  truy xuáº¥t. NÃ³ che giáº¥u cÃ¡c nguá»“n dá»¯ liá»‡u khá»i pháº§n cÃ²n láº¡i cá»§a á»©ng dá»¥ng.
    * **Repository (Kho chá»©a):** Má»™t lá»›p quáº£n lÃ½ dá»¯ liá»‡u tá»« má»™t hoáº·c nhiá»u nguá»“n (nhÆ° API tá»« xa hoáº·c cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»¥c bá»™). Táº§ng Domain tÆ°Æ¡ng tÃ¡c vá»›i má»™t **Repository interface**, trong khi táº§ng Data cung cáº¥p **pháº§n triá»ƒn khai cá»¥ thá»ƒ** cá»§a interface Ä‘Ã³. VÃ­ dá»¥, má»™t repository cÃ³ thá»ƒ thá»­ láº¥y dá»¯ liá»‡u tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»¥c bá»™ trÆ°á»›c, náº¿u khÃ´ng cÃ³, nÃ³ sáº½ láº¥y tá»« API máº¡ng.
    * **Entity (Thá»±c thá»ƒ):** Má»™t data class Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘áº·c biá»‡t Ä‘á»ƒ Ä‘áº¡i diá»‡n cho má»™t báº£ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u nhÆ° **Room**. VÃ­ dá»¥, má»™t lá»›p `UserEntity` sáº½ Ã¡nh xáº¡ trá»±c tiáº¿p Ä‘áº¿n cÃ¡c cá»™t cá»§a báº£ng "users".
    * **DAO (Data Access Object - Äá»‘i tÆ°á»£ng truy cáº­p dá»¯ liá»‡u):** Má»™t interface Ä‘á»‹nh nghÄ©a cÃ¡c thao tÃ¡c cÆ¡ sá»Ÿ dá»¯ liá»‡u (nhÆ° `INSERT`, `SELECT`, `UPDATE`). Äá»‘i vá»›i thÆ° viá»‡n Room, báº¡n Ä‘á»‹nh nghÄ©a má»™t DAO interface vá»›i cÃ¡c hÃ m, vÃ  Room sáº½ tá»± Ä‘á»™ng táº¡o mÃ£ cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c truy váº¥n SQL Ä‘Ã³. Repository implementation sá»­ dá»¥ng DAO Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.